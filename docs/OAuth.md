# OAuth 

```text

OAuth
    solution
        how to provide delegated_access to without putting end-user's data at risk
                                └─ allowing applications to talk to each other on behalf of end-user
    OAuth for user authentication
        point of view of this mind map
            developer of client
        resource owner
            owns protected resource
                hosted on resource server
                    owned by OAuth provider
            consents to delegated access to protected resource
                                    └─ by client
        protected resource
            owned by resource owner
            stored on OAuth provider's database
            accessed by client
                upon successful access delegation process
                    to use it in services that client provide to resource owner
        client
            of OAuth provider
            wants to
                access resource server
                    perform actions on resource
                        on behalf of resource owner
        provider
            authorization server
            resource server
        access token
            used by
                resource server
                    as a means
                        to allow client to access protected resource
                            on behalf of resource owner
                client
                    as a means 
                        to access protected resource
                            on behalf of resource owner
            contains
                token
                scope
                user identifier
                ttl
                ...
            generated by authorization server
                upon resource owner's consent
                sent to client
                    techniques
                        url-encoded
                    sent back by client within request to access protected resource
        validation code
            unique
                indicates validity of consent
                    inserted in consent form and sent to resource owner
                    sent back to authorization server by resource owner
        flow
            terminologies
                user = end-user
                app = app that developer is building which uses OAuth to authenticate its users into the system.
                provider = OAuth provider
            1. user attempts to login to app
            2. app redirect user to validation API of provider
            3. provider validates user
            4. provider redirects user back to app with an access token
            5. app uses access token to access user's information which is hosted on provider's servers
            6. app creates session for the user
    OAuth 2.0
        Google
            "Sign in with Google"
                required configurations on Google Cloud Console
                    ordered steps as of 2022-06-20
                        visit Google API Console
                            create or select existing project
                            configure consent screen
                                provide information
                                    application information
                                    application domain
                                    developer contact information
                                configure scopes
                                register test users
                            create credentials
                                OAuth client ID
                                    provide information
                                    get client secret
            identity server
                https://accounts.google.com
                    authentication
                        GET /login/federated
                        logged in
                            obtains consent from user
                                release identity to third party

```

